
<html>
 <head>
  <title>JavaScript External Question Example</title>
 
  <script type="text/javascript" language="JavaScript"><!--
 
// Given the ID of the assignmentId form field element, populate it
// with the assignmentId parameter from the URL.  If no assignment ID
// is present, inform the worker that the HIT is being previewed.
function populateAssignmentID(field_id) {
  var assignment_id_field = document.getElementById(field_id);
  var paramstr = window.location.search.substring(1);
  var parampairs = paramstr.split("&");
  for (i in parampairs) {
    var pair = parampairs[i].split("=");
    if (pair[0] == "assignmentId") {
      if (pair[1] == "ASSIGNMENT_ID_NOT_AVAILABLE") {
        document.getElementById(&#39;previewnotice&#39;).innerHTML =
          "<p><b>You are previewing this HIT.</b>  To perform this HIT, please accept it.</p>";
      } else {
        assignment_id_field.value = pair[1];
      }
      return;
    }
  }
}
</script>
 </head>

 <body onload="populateAssignmentID('myAssignmentId')">
   <h1>An Example of a JavaScript External Question</h1>
 
   <form action="https://workersandbox.mturk.com/mturk/externalSubmit"
     method="POST">
 
     <p>Tell me a story!</p>
     <textarea name="story"></textarea><br />
     <input type="submit" name="submit" value="Submit Answer" />
 
     <!-- This field gets populated by JavaScript when the page loads: -->
     <input type="hidden" name="assignmentId" id="myAssignmentId" value="" />
   </form>
 </body>
</html>
